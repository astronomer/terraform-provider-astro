---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "astro_alert Resource - astro"
subcategory: ""
description: |-
  Alert resource
---

# astro_alert (Resource)

Alert resource

## Example Usage

```terraform
resource "astro_alert" "dag_failure_alert" {
  name                     = "DAG Failure Alert"
  type                     = "DAG_FAILURE"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id" = "cm1zkps2a0cv301ph39benet6"
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "IS"
        "values"        = ["*", "test"]
      }
    ]
  }
}

resource "astro_alert" "dag_success_alert" {
  name                     = "DAG Success Alert"
  type                     = "DAG_SUCCESS"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id" = "cm1zkps2a0cv301ph39benet6"
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "INCLUDES"
        "values"        = ["test"]
      }
    ]
  }
}

resource "astro_alert" "dag_duration_alert" {
  name                     = "DAG Duration Alert"
  type                     = "DAG_DURATION"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id"        = "cm1zkps2a0cv301ph39benet6"
      "dag_duration_seconds" = 3600
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "IS"
        "values"        = ["*"]
      },
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "EXCLUDES"
        "values"        = ["bad_dag"]
      }
    ]
  }
}

resource "astro_alert" "dag_timeliness_alert" {
  name                     = "DAG Timeliness Alert"
  type                     = "DAG_TIMELINESS"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id"            = "cm1zkps2a0cv301ph39benet6"
      "dag_deadline"             = "08:00",
      "days_of_week"             = ["MONDAY"],
      "look_back_period_seconds" = 3600,
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "IS"
        "values"        = ["etl_dag"]
      },
    ]
  }
}

resource "astro_alert" "task_failure_alert" {
  name                     = "Task Failure Alert"
  type                     = "TASK_FAILURE"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id" = "cm1zkps2a0cv301ph39benet6"
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "IS"
        "values"        = ["*"]
      },
      {
        "entity_type"   = "TASK_ID"
        "operator_type" = "INCLUDES"
        "values"        = ["test_task"]
      }
    ]
  }
}

resource "astro_alert" "task_duration_alert" {
  name                     = "Task Duration Alert"
  type                     = "TASK_DURATION"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id"         = "cm1zkps2a0cv301ph39benet6"
      "task_duration_seconds" = 3600
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "INCLUDES"
        "values"        = ["etl_dag"]
      },
      {
        "entity_type"   = "TASK_ID"
        "operator_type" = "EXCLUDES"
        "values"        = ["bad_task"]
      }
    ]
  }
}

# Import an existing alert
import {
  id = "cm1zkps2a0cv301ph39benet6" // ID of the existing alert
  to = astro_alert.dag_failure_alert
}

resource "astro_alert" "dag_failure_alert_imported" {
  name                     = "Imported DAG Failure Alert"
  type                     = "DAG_FAILURE"
  severity                 = "CRITICAL"
  entity_type              = "DEPLOYMENT"
  entity_id                = "cm1zkps2a0cv301ph39benet6"
  notification_channel_ids = ["cm4nwrvyg024h01mk2dn58m5s"]
  rules = {
    "properties" = {
      "deployment_id" = "cm1zkps2a0cv301ph39benet6"
    }
    "pattern_matches" = [
      {
        "entity_type"   = "DAG_ID"
        "operator_type" = "IS"
        "values"        = ["*", "test"]
      }
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `entity_id` (String) The entity ID the alert is associated with
- `entity_type` (String) The ID of the Deployment to which the alert is scoped
- `name` (String) Alert name
- `notification_channel_ids` (Set of String) Set of notification channel identifiers to notify when the alert is triggered
- `rules` (Attributes) Alert rules defining the conditions for triggering the alert (see [below for nested schema](#nestedatt--rules))
- `severity` (String) The alert's severity
- `type` (String) The alert's type

### Read-Only

- `created_at` (String) Alert creation timestamp
- `created_by` (Attributes) Alert creator (see [below for nested schema](#nestedatt--created_by))
- `deployment_id` (String) The ID of the Deployment to which the alert is scoped
- `entity_name` (String) The name of the entity the alert is associated with
- `id` (String) Alert identifier
- `notification_channels` (Attributes Set) The notification channels to send alerts to (see [below for nested schema](#nestedatt--notification_channels))
- `organization_id` (String) The ID of the Organization to which the alert is scoped
- `updated_at` (String) Alert last updated timestamp
- `updated_by` (Attributes) Alert updater (see [below for nested schema](#nestedatt--updated_by))
- `workspace_id` (String) The ID of the Workspace to which the alert is scoped

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `pattern_matches` (Attributes Set) The alert's pattern matches to match against (see [below for nested schema](#nestedatt--rules--pattern_matches))
- `properties` (Attributes) The alert's properties used to define the alert (see [below for nested schema](#nestedatt--rules--properties))

<a id="nestedatt--rules--pattern_matches"></a>
### Nested Schema for `rules.pattern_matches`

Required:

- `entity_type` (String) The type of entity to match against
- `operator_type` (String) The type of operator to use for the pattern match
- `values` (Set of String) The values to match against


<a id="nestedatt--rules--properties"></a>
### Nested Schema for `rules.properties`

Required:

- `deployment_id` (String) The ID of the deployment for the alert rule

Optional:

- `dag_deadline` (String) The deadline for the DAG in HH:MM 24-hour UTC format
- `dag_duration_seconds` (Number) The duration of the DAG in seconds (minimum 60)
- `days_of_week` (Set of String) The days of the week for the timeliness rule
- `look_back_period_seconds` (Number) The look-back period in seconds (minimum 60)
- `task_duration_seconds` (Number) The duration of the Task in seconds (minimum 60)



<a id="nestedatt--created_by"></a>
### Nested Schema for `created_by`

Read-Only:

- `api_token_name` (String)
- `avatar_url` (String)
- `full_name` (String)
- `id` (String)
- `subject_type` (String)
- `username` (String)


<a id="nestedatt--notification_channels"></a>
### Nested Schema for `notification_channels`

Required:

- `definition` (Map of String) The notification channel's definition
- `entity_id` (String) The entity ID the notification channel is scoped to
- `entity_type` (String) The type of entity the notification channel is scoped to (e.g., 'DEPLOYMENT')
- `id` (String) The notification channel's ID
- `name` (String) The notification channel's name
- `type` (String) The notification channel's type

Optional:

- `is_shared` (Boolean) When entity type is scoped to ORGANIZATION or WORKSPACE, this determines if child entities can access this notification channel.

Read-Only:

- `created_at` (String) Notification Channel creation timestamp
- `created_by` (Attributes) Notification Channel creator (see [below for nested schema](#nestedatt--notification_channels--created_by))
- `deployment_id` (String) The deployment ID the notification channel is scoped to
- `entity_name` (String) The name of the entity the notification channel is scoped to
- `organization_id` (String) The organization ID the notification channel is scoped to
- `updated_at` (String) Notification Channel last updated timestamp
- `updated_by` (Attributes) Notification Channel updater (see [below for nested schema](#nestedatt--notification_channels--updated_by))
- `workspace_id` (String) The workspace ID the notification channel is scoped to

<a id="nestedatt--notification_channels--created_by"></a>
### Nested Schema for `notification_channels.created_by`

Read-Only:

- `api_token_name` (String)
- `avatar_url` (String)
- `full_name` (String)
- `id` (String)
- `subject_type` (String)
- `username` (String)


<a id="nestedatt--notification_channels--updated_by"></a>
### Nested Schema for `notification_channels.updated_by`

Read-Only:

- `api_token_name` (String)
- `avatar_url` (String)
- `full_name` (String)
- `id` (String)
- `subject_type` (String)
- `username` (String)



<a id="nestedatt--updated_by"></a>
### Nested Schema for `updated_by`

Read-Only:

- `api_token_name` (String)
- `avatar_url` (String)
- `full_name` (String)
- `id` (String)
- `subject_type` (String)
- `username` (String)
